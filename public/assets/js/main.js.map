{"version":3,"sources":["main.js","main1-paintShows.js","main2-favorites.js","main3-localStorage.js","main4-reset.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\"use strict\";\n\nconst btn = document.querySelector(\".js__btn\");\nconst input = document.querySelector(\".js__input\");\nconst list = document.querySelector(\".js-shows-list\");\nconst listFavorite = document.querySelector(\".js-favorites-list\");\nlet resetBtn = document.querySelector(\".js-reset-btn\");\nlet showList = [];\nlet favoritesList = [];\n\n// function to get data from the server\n\nfunction getShowsData(ev) {\n  ev.preventDefault();\n  const inputValue = input.value;\n  fetch(`//api.tvmaze.com/search/shows?q=${inputValue}`)\n    .then((response) => response.json())\n    .then((data) => {\n      showList = data;\n      paintShows();\n      listenShows();\n      paintFavorites();\n      listenFavorites();\n    });\n}\n\nbtn.addEventListener(\"click\", getShowsData);\n","\"use strict\";\n\n//function to paint server data\n\nfunction paintShows() {\n  let html = \"\";\n  for (let i = 0; i < showList.length; i++) {\n    let classF = \"\";\n    const favoriteIndex = favoritesList.findIndex(function (show) {\n      return show.id === showList[i].show.id;\n    });\n    if (favoriteIndex !== -1) {\n      classF = \"show__item--favorite\";\n    } else {\n      classF = \"\";\n    }\n    html += `<li class=\"shows-list js-show-item ${classF}\" id=\"${showList[i].show.id}\">`;\n    html += `<h3 class=\"shows-list__title\">${showList[i].show.name}</h3>`;\n    html += `<div class=\"shows-list__container\">`;\n    if (showList[i].show.image === null) {\n      html += `<img src=\"https://via.placeholder.com/210x295/ffffff/666666/?\n      text=TV.\" alt=\"no existe imagen de la serie\">`;\n    } else {\n      html += `<img src=\"${\n        showList[i].show.image.medium || showList[i].show.image.original\n      }\" alt=\"imagen de la serie ${showList[i].show.name}\">`;\n    }\n    html += `</div>`;\n    html += `</li>`;\n  }\n  list.innerHTML = html;\n  listenFavorites();\n}\n","\"use strict\";\n\n// function to pick up favorite series\n\nfunction favoritesShows(ev) {\n  const clicked = parseInt(ev.currentTarget.id);\n  const indexFav = favoritesList.findIndex(function (show) {\n    return show.id === clicked;\n  });\n  const isFavorite = indexFav !== -1;\n  if (isFavorite === true) {\n    favoritesList.splice(indexFav, 1);\n  } else {\n    for (let i = 0; i < showList.length; i++) {\n      if (showList[i].show.id === clicked) {\n        favoritesList.push(showList[i].show);\n      }\n    }\n  }\n  paintShows();\n  listenShows();\n  paintFavorites();\n  setLocalStorage();\n  listenFavorites();\n}\n\nfunction listenShows() {\n  const showsItems = document.querySelectorAll(\".js-show-item\");\n  for (const showItem of showsItems) {\n    showItem.addEventListener(\"click\", favoritesShows);\n  }\n}\n\n//function to paint favorite series\n\nfunction paintFavorites() {\n  let html = \"\";\n  for (let i = 0; i < favoritesList.length; i++) {\n    html += `<li class=\"favorite-list\">`;\n    html += `<div class=\"favorite-list__container\">`;\n    if (favoritesList[i].image === null) {\n      html += `<img src=\"https://via.placeholder.com/210x295/ffffff/666666/?\n      text=TV.\" alt=\"no existe imagen de la serie\" class=\"favorite-list__container--img\">`;\n    } else {\n      html += `<img src=\"${\n        favoritesList[i].image.medium || favoritesList[i].image.original\n      }\" alt=\"imagen de la serie ${\n        favoritesList[i].name\n      }\" class=\"favorite-list__container--img\">`;\n    }\n    html += `</div>`;\n    html += `<h4 = class=\"favorite-list__title\">${favoritesList[i].name}</h4>`;\n    html += `<i class=\"fas fa-times-circle favorite-list__icon js-favorite-item\" id=\"${favoritesList[i].id}\"></i>`;\n  }\n  listFavorite.innerHTML = html;\n  listenFavorites();\n}\n","\"use strict\";\n\n// function save to localStorage\n\nfunction setLocalStorage() {\n  const stringifyFavorites = JSON.stringify(favoritesList);\n  localStorage.setItem(\"favorites\", stringifyFavorites);\n}\n\n// function to get from localStorage\n\nfunction getLocalStorage() {\n  const localStorageFavorites = localStorage.getItem(\"favorites\");\n  if (localStorageFavorites !== null) {\n    favoritesList = JSON.parse(localStorageFavorites);\n  }\n  paintFavorites();\n}\n\ngetLocalStorage();\n","\"use strict\";\n\n// function to delete all favorite series\n\nfunction reset() {\n  favoritesList = [];\n  localStorage.removeItem(\"favorites\");\n  paintFavorites();\n  paintShows();\n  listenShows();\n  listenFavorites();\n}\n\nresetBtn.addEventListener(\"click\", reset);\n\n// function to delete one favorite serie\n\nfunction resetFavorite(ev) {\n  console.log(favoritesList);\n  const clicked = parseInt(ev.currentTarget.id);\n  const indexFav = favoritesList.findIndex(function (favorite) {\n    return favorite.id === clicked;\n  });\n  const isFavorite = indexFav !== -1;\n  if (isFavorite === true) {\n    favoritesList.splice(indexFav, 1);\n  }\n  console.log(favoritesList);\n  paintFavorites();\n  listenFavorites();\n  paintShows();\n  listenShows();\n  setLocalStorage();\n}\n\nfunction listenFavorites() {\n  const favoriteItems = document.querySelectorAll(\".js-favorite-item\");\n  for (const favoriteItem of favoriteItems) {\n    favoriteItem.addEventListener(\"click\", resetFavorite);\n  }\n}\nlistenFavorites();\n"]}